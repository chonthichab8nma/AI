document.addEventListener("DOMContentLoaded", () => {
  const tripContent = document.getElementById("tripContent");
  const planTripButton = document.getElementById("planTripButton");
  const placeDetailButton = document.getElementById("placeDetailButton");

  // ดึงข้อมูลจาก URL (query parameters)
  const urlParams = new URLSearchParams(window.location.search);
  const province = urlParams.get('province') || "จังหวัดไม่ระบุ";  // จังหวัด
  const days = parseInt(urlParams.get('days')) || 0;               // จำนวนวัน

  // แปลงชื่อจังหวัดจากอังกฤษเป็นไทย (เฉพาะที่ต้องการเปลี่ยน)
  const provinceMapping = {
    "Phang Nga": "พังงา",
    "Phuket": "ภูเก็ต",
    "Krabi": "กระบี่",
    "Surat Thani": "สุราษฎร์ธานี",
    "Nakhon Si Thammarat": "นครศรีธรรมราช"
  };
  const provinceThai = provinceMapping[province] || province;

  // อัปเดตหัวข้อทริป
  const tripTitle = document.getElementById("tripTitle");
  tripTitle.textContent = `${provinceThai} ${days} วัน`; //สวัสดีค่า

  // ข้อมูลรายละเอียดทริป
  const tripDetails = {
    "Phang Nga": {
      1: [
        { day: "วันที่ 1", events: ["**เกาะสุรินทร์** (ต้องจองทัวร์ล่วงหน้า)", "06:00 น. ออกเดินทางจากภูเก็ตไปยังท่าเรือเพื่อไปเกาะสุรินทร์", "08:00 น. - 16:00 น. ดำน้ำดูปะการัง เที่ยวชมเกาะสุรินทร์", "17:00 น. เดินทางกลับภูเก็ต"] }
      ],
      2: [
        { day: "วันที่ 1", events: ["13:00 น. เดินทางถึงสนามบินภูเก็ต (HKT)", "15:00 น. เช็คอินพักที่เขาหลัก", "16:00 น. เที่ยวชมชายหาดเขาหลัก"] },
        { day: "วันที่ 2", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. เดินทางไปยังน้ำตกสายรุ้ง", "12:00 น. รับประทานอาหารกลางวันที่ร้านอาหารใกล้เคียง"] }
      ],
      3: [
        { day: "วันที่ 1", events: ["13:00 น. เดินทางถึงสนามบินภูเก็ต (HKT) รับรถเช่าและเดินทางไปยังเขาหลัก (ประมาณ 1.5-2 ชั่วโมง)", "15:00 น. เช็คอินที่พักเขาหลัก", "16:00 น. เที่ยวชมชายหาดเขาหลัก พักผ่อนริมทะเล", "19:00 น. รับประทานอาหารเย็นที่ร้านอาหารทะเลในเขาหลัก"] },
        { day: "วันที่ 2", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. เดินทางไปยังนํ้าตกสายรุ้ง เที่ยวชมนํ้าตกและธรรมชาติ (ประมาณ 1 ชั่วโมง)", "10:30 น. เดินทางไปยังวัดสวรรค์คูหา เที่ยวชมวัดและธรรมชาติ (ประมาณ 1 ชั่วโมง)", "12:00 น. รับประทานอาหารกลางวันที่ร้านอาหารใกล้เคียง", "13:30 น. เดินทางกลับที่พัก พักผ่อน", "18:00 น. รับประทานอาหารเย็น และพักผ่อน"] },
        { day: "วันที่ 3", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. เช็คเอ้าท์จากโรงแรม", "10:00 น. เดินทางไปยังจุดชมวิวเสม็ดนางชี ชมวิวทะเลและอ่าวพังงา (ประมาณ 1 ชั่วโมง)", "11:30 น. เดินทางไปสนามบินภูเก็ต เพื่อเดินทางกลับ"] }
      ],
      4: [
        { day: "วันที่ 1", events: ["13:00 น. เดินทางถึงสนามบินภูเก็ต (HKT) เดินทางไปยังท่าเรือเพื่อไปเกาะยาวน้อย (ควรจองเรือล่วงหน้า)", "15:00 น. เช็คอินที่พักบนเกาะยาวน้อย", "16:00 น. สํารวจเกาะยาวน้อย ว่ายนํ้า ดํานํ้าดูปะการัง", "19:00 น. รับประทานอาหารเย็นที่ร้านอาหารบนเกาะ"] },
        { day: "วันที่ 2", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. ทัวร์เกาะยาวน้อย กิจกรรมทางนํ้าต่างๆ", "13:00 น. รับประทานอาหารกลางวัน", "14:00 น. เดินทางโดยเรือไปยังอ่าวพังงา", "16:00 น. เช็คอินที่พักในอ่าวพังงา (อาจเป็นโรงแรมหรือรีสอร์ทบนแพ)", "19:00 น. รับประทานอาหารเย็น"] },
        { day: "วันที่ 3", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. ทัวร์อ่าวพังงา ชมธรรมชาติ เกาะต่างๆ (เช่น เกาะปันหยี)", "13:00 น. รับประทานอาหารกลางวัน", "14:00 น. เดินทางกลับไปยังภูเก็ต", "16:00 น. เช็คอินที่พักในภูเก็ต", "19:00 น. รับประทานอาหารเย็น"] },
        { day: "วันที่ 4", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. เดินทางไปยังหมู่บ้านบางพัฒน์ เรียนรู้วิถีชีวิตชาวบ้าน", "12:00 น. รับประทานอาหารกลางวัน ", "13:00 น. เดินทางไปสนามบินภูเก็ต เพื่อเดินทางกลับ"] }
      ],
      5: [
        { day: "วันที่ 1", events: ["13:00 น. เดินทางถึงสนามบินภูเก็ต (HKT) เดินทางไปยังท่าเรือเพื่อไปเกาะยาวน้อย (ควรจองเรือล่วงหน้า)", "15:00 น. เช็คอินที่พักบนเกาะยาวน้อย", "16:00 น. สํารวจเกาะยาวน้อย ว่ายนํ้า ดํานํ้าดูปะการัง", "19:00 น. รับประทานอาหารเย็นที่ร้านอาหารบนเกาะ"] },
        { day: "วันที่ 2", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. ทัวร์เกาะยาวน้อย กิจกรรมทางนํ้าต่างๆ", "13:00 น. รับประทานอาหารกลางวัน", "14:00 น. เดินทางโดยเรือไปยังอ่าวพังงา", "16:00 น. เช็คอินที่พักในอ่าวพังงา (อาจเป็นโรงแรมหรือรีสอร์ทบนแพ)", "19:00 น. รับประทานอาหารเย็น"] },
        { day: "วันที่ 3", events: ["08:00 น. เดินทางโดยเรือจากอ่าวพังงาไปยังเกาะสิมิลัน (ควรจองทัวร์ล่วงหน้า)", "09:00 น. - 16:00 น. ดํานํ้าดูปะการัง เที่ยวชมเกาะสิมิลัน", "17:00 น. เดินทางกลับไปยังภูเก็ต ", "19:00 น. รับประทานอาหารเย็น"] },
        { day: "วันที่ 4", events: ["08:00 น. เดินทางไปยังอุทยานแห่งชาติอ่าวพังงา เที่ยวชมธรรมชาติ", "09:00 น. เดินทางไปยังหมู่บ้านบางพัฒน์ เรียนรู้วิถีชีวิตชาวบ้าน", "12:00 น. รับประทานอาหารกลางวัน ", "13:00 น. เดินทางไปสนามบินภูเก็ต เพื่อเดินทางกลับ"] },
        { day: "วันที่ 5", events: ["08:00 น. รับประทานอาหารเช้าที่โรงแรม", "09:00 น. เดินทางไปสนามบินภูเก็ต เพื่อเดินทางกลับ"] }
      ]
    },
    "Nakhon Si Thammarat": {
      2: [
        { day: "วันที่ 1", events: ["ใส่เองเด้อ"] },
        { day: "วันที่ 2", events: ["ใส่เองเด้อ"] }
      ]
    },
    "Phuket": {
      1: [
        { day: "วันที่ 1", events: ["ใส่เองเด้อ"] }
      ]
    },
    "Krabi": {
      2: [
        { day: "วันที่ 1", events: ["ใส่เองเด้อ"] },
        { day: "วันที่ 2", events: ["ใส่เองเด้อ"] }
      ]
    },
    "Surat Thani": {
      1: [
        { day: "วันที่ 1", events: ["08:00-12:00 น. สักการะสิ่งศักดิ์สิทธิ์คู่บ้านคู่เมืองสุราษฎร์ธานี ชมสถาปัตยกรรมอันงดงาม(ประมาณ 2 ชั่วโมง) จากนั้นเดินทางไปสักการะ พระพุทธรูปองค์ใหญ่ (ประมาณ 1 ชั่วโมง)", "12:00-13:00 น. รับประทานอาหารกลางวันที่ร้านอาหารในตัวเมืองสุราษฎร์ธานี", "13:00-17:00 น. เยี่ยมชม ถ้ำธรรมศาลา สำรวจความสวยงามภายในถ้ำ (ประมาณ 1.5 ชั่วโมง) จากนั้นแวะชมตลาดศาลเจ้า สัมผัสวิถีชีวิตและวัฒนธรรมท้องถิ่น (ประมาณ 1.5 ชั่วโมง)"] }
      ],
      2: [
        { day: "วันที่ 1", events: ["08:00-12:00 น. สักการะสิ่งศักดิ์สิทธิ์คู่บ้านคู่เมืองสุราษฎร์ธานี ชมสถาปัตยกรรมอันงดงาม(ประมาณ 2 ชั่วโมง) จากนั้นเดินทางไปสักการะ พระพุทธรูปองค์ใหญ่ (ประมาณ 1 ชั่วโมง)", "12:00-13:00 น. รับประทานอาหารกลางวันที่ร้านอาหารในตัวเมืองสุราษฎร์ธานี", "13:00-17:00 น. เยี่ยมชม ถ้ำธรรมศาลา สำรวจความสวยงามภายในถ้ำ (ประมาณ 1.5 ชั่วโมง) จากนั้นแวะชมตลาดศาลเจ้า สัมผัสวิถีชีวิตและวัฒนธรรมท้องถิ่น (ประมาณ 1.5 ชั่วโมง)"] },
        { day: "วันที่ 2", events: ["08:00-12:00 น. เดินทางไปอุทยานแห่งชาติเขาสก ชมความงามของ น้ำตกแปดเซียน (ประมาณ 3-4 ชั่วโมง รวมเวลาเดินทาง)", "12:00-17:00 น. แวะพักผ่อนรับประทานอาหารกลางวันที่อุทยานฯ จากนั้นเดินทางกลับที่พักในเมืองสุราษฎร์ธานี"] }
      ],
      3: [
        { day: "วันที่ 1", events: ["08:00-12:00 น. สักการะสิ่งศักดิ์สิทธิ์คู่บ้านคู่เมืองสุราษฎร์ธานี ชมสถาปัตยกรรมอันงดงาม(ประมาณ 2 ชั่วโมง) จากนั้นเดินทางไปสักการะ พระพุทธรูปองค์ใหญ่ (ประมาณ 1 ชั่วโมง)", "12:00-13:00 น. รับประทานอาหารกลางวันที่ร้านอาหารในตัวเมืองสุราษฎร์ธานี", "13:00-17:00 น. เยี่ยมชม ถ้ำธรรมศาลา สำรวจความสวยงามภายในถ้ำ (ประมาณ 1.5 ชั่วโมง) จากนั้นแวะชมตลาดศาลเจ้า สัมผัสวิถีชีวิตและวัฒนธรรมท้องถิ่น (ประมาณ 1.5 ชั่วโมง)"] },
        { day: "วันที่ 2", events: ["08:00-12:00 น. เดินทางไปอุทยานแห่งชาติเขาสก ชมความงามของ น้ำตกแปดเซียน (ประมาณ 3-4 ชั่วโมง รวมเวลาเดินทาง)", "12:00-17:00 น. แวะพักผ่อนรับประทานอาหารกลางวันที่อุทยานฯ จากนั้นเดินทางกลับที่พักในเมืองสุราษฎร์ธานี"] },
        { day: "วันที่ 3", events: ["08:00-16:00 น. เดินทางไปเกาะเต่าโดยเรือเร็ว ชมความงามของจุดชมวิวจอห์น-สุวรรณและเพลิดเพลินกับกิจกรรมทางทะเลบนเกาะเต่า (ควรจองที่พักและทัวร์บนเกาะเต่าล่วงหน้า)"] }
      ],
      4: [
        { day: "วันที่ 1", events: ["08:00-12:00 น. สักการะสิ่งศักดิ์สิทธิ์คู่บ้านคู่เมืองสุราษฎร์ธานี ชมสถาปัตยกรรมอันงดงาม(ประมาณ 2 ชั่วโมง) จากนั้นเดินทางไปสักการะ พระพุทธรูปองค์ใหญ่ (ประมาณ 1 ชั่วโมง)", "12:00-13:00 น. รับประทานอาหารกลางวันที่ร้านอาหารในตัวเมืองสุราษฎร์ธานี", "13:00-17:00 น. เยี่ยมชม ถ้ำธรรมศาลา สำรวจความสวยงามภายในถ้ำ (ประมาณ 1.5 ชั่วโมง) จากนั้นแวะชมตลาดศาลเจ้า สัมผัสวิถีชีวิตและวัฒนธรรมท้องถิ่น (ประมาณ 1.5 ชั่วโมง)"] },
        { day: "วันที่ 2", events: ["08:00-12:00 น. เดินทางไปอุทยานแห่งชาติเขาสก ชมความงามของ น้ำตกแปดเซียน (ประมาณ 3-4 ชั่วโมง รวมเวลาเดินทาง)", "12:00-17:00 น. แวะพักผ่อนรับประทานอาหารกลางวันที่อุทยานฯ จากนั้นเดินทางกลับที่พักในเมืองสุราษฎร์ธานี"] },
        { day: "วันที่ 3", events: ["08:00-16:00 น. เดินทางไปเกาะเต่าโดยเรือเร็ว ชมความงามของจุดชมวิวจอห์น-สุวรรณและเพลิดเพลินกับกิจกรรมทางทะเลบนเกาะเต่า (ควรจองที่พักและทัวร์บนเกาะเต่าล่วงหน้า)"] },
        { day: "วันที่ 4", events: ["08:00-12:00 น. ล่องเรือชมธรรมชาติในคลองบางใบไมสัมผัสวิถีชีวิตริมคลอง (ประมาณ 4 ชั่วโมง รวมเวลาเดินทาง)", "12:00-17:00 น. แวะเยี่ยมชมลานหินโค้งชมความมหัศจรรย์ทางธรณีวิทยา จากนั้นเดินทางกลับ"] }
      ],
      5: [
        { day: "วันที่ 1", events: ["08:00-12:00 น. สักการะสิ่งศักดิ์สิทธิ์คู่บ้านคู่เมืองสุราษฎร์ธานี ชมสถาปัตยกรรมอันงดงาม(ประมาณ 2 ชั่วโมง) จากนั้นเดินทางไปสักการะ พระพุทธรูปองค์ใหญ่ (ประมาณ 1 ชั่วโมง)", "12:00-13:00 น. รับประทานอาหารกลางวันที่ร้านอาหารในตัวเมืองสุราษฎร์ธานี", "13:00-17:00 น. เยี่ยมชม ถ้ำธรรมศาลา สำรวจความสวยงามภายในถ้ำ (ประมาณ 1.5 ชั่วโมง) จากนั้นแวะชมตลาดศาลเจ้า สัมผัสวิถีชีวิตและวัฒนธรรมท้องถิ่น (ประมาณ 1.5 ชั่วโมง)"] },
        { day: "วันที่ 2", events: ["08:00-12:00 น. เดินทางไปอุทยานแห่งชาติเขาสก ชมความงามของ น้ำตกแปดเซียน (ประมาณ 3-4 ชั่วโมง รวมเวลาเดินทาง)", "12:00-17:00 น. แวะพักผ่อนรับประทานอาหารกลางวันที่อุทยานฯ จากนั้นเดินทางกลับที่พักในเมืองสุราษฎร์ธานี"] },
        { day: "วันที่ 3", events: ["08:00-16:00 น. เดินทางไปเกาะเต่าโดยเรือเร็ว ชมความงามของจุดชมวิวจอห์น-สุวรรณและเพลิดเพลินกับกิจกรรมทางทะเลบนเกาะเต่า (ควรจองที่พักและทัวร์บนเกาะเต่าล่วงหน้า)"] },
        { day: "วันที่ 4", events: ["08:00-12:00 น. ล่องเรือชมธรรมชาติในคลองบางใบไมสัมผัสวิถีชีวิตริมคลอง (ประมาณ 4 ชั่วโมง รวมเวลาเดินทาง)", "12:00-17:00 น. แวะเยี่ยมชมลานหินโค้งชมความมหัศจรรย์ทางธรณีวิทยา จากนั้นเดินทางกลับ"] },
        { day: "วันที่ 5", events: ["08:00-12:00 น. แวะพักผ่อนที่บ่อน้ำร้อนเขาตอก ผ่อนคลายในบรรยากาศธรรมชาติ (ประมาณ 3-4 ชั่วโมง รวมเวลาเดินทาง) ", "12:00-17:00 น. เยี่ยมชมHug Village สัมผัสประสบการณ์การท่องเที่ยวเชิงวัฒนธรรม จากนั้นเดินทางกลับ"] }
      ]
    }
  };

  // ฟังก์ชันแสดงรายละเอียดทริป
  const displayTripDetails = () => {
    tripContent.innerHTML = ""; // ล้างเนื้อหาก่อน
    if (tripDetails[province] && tripDetails[province][days]) {
      tripDetails[province][days].forEach(dayDetail => {
        const dayContainer = document.createElement("div");
        dayContainer.classList.add("day");

        const dayTitle = document.createElement("h3");
        dayTitle.textContent = dayDetail.day;
        dayContainer.appendChild(dayTitle);

        const eventList = document.createElement("ul");
        dayDetail.events.forEach(event => {
          const listItem = document.createElement("li");
          listItem.textContent = event;
          eventList.appendChild(listItem);
        });

        dayContainer.appendChild(eventList);
        tripContent.appendChild(dayContainer);
      });
    } else {
      tripContent.textContent = "ไม่มีข้อมูลสำหรับจังหวัดหรือจำนวนวันที่เลือก";
    }
  };

  // ตั้งค่าให้ปุ่มทำงาน
  planTripButton.addEventListener("click", (e) => {
    e.preventDefault();
    window.location.href = "Home.html"; // เปลี่ยนไปยังหน้า Home.html
  });

  placeDetailButton.addEventListener("click", (e) => {
    e.preventDefault();
    window.location.href = "plan_detail.html";
  });

  // ทำให้ปุ่ม active เมื่อเข้าหน้านี้
  planTripButton.classList.add("active");

  // ตั้งค่าให้เปลี่ยน active เมื่อคลิกปุ่มอื่น
  placeDetailButton.addEventListener("click", () => {
    planTripButton.classList.remove("active");
    placeDetailButton.classList.add("active");
  });

  // เริ่มต้นแสดงเนื้อหาทริปเมื่อหน้าโหลด
  displayTripDetails();
});